<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aurum Project - Plataforma de Inversión</title>

  <!-- Fuentes -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" />

  <!-- Tu CSS externo -->
  <link rel="stylesheet" href="/client/css/style.css" />
  <link rel="stylesheet" href="/client/css/cliente.css" />

  <!-- Control de acceso: sólo clientes -->
  <script>
    const sesion = localStorage.getItem('sesionIniciada');
    const rol    = localStorage.getItem('rol');
    if (sesion !== 'true' || rol !== 'cliente') {
      alert('Acceso restringido. Solo para clientes.');
      window.location.href = '/';
    }
  </script>

  <!-- Tus estilos en línea (opcionalmente los migras a style.css) -->
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(180deg, #0f1c2e 0%, #13294b 100%);
      color: #fff;
      line-height: 1.6;
    }
    /* ... resto de tus estilos originales ... */
  </style>
</head>
<body>
  <header>
    <h1>Aurum Client</h1>
    <nav>
      <a href="/client/main.html">Inicio</a>
      <a href="/client/portfolio.html">Portfolio</a>
      <a href="/client/crypto_chart.html">Criptos</a>
      <a href="/client/oro_chart.html">Metales</a>
      <a href="/client/phantom_wallet.html">Phantom</a>
      <a href="/client/foro.html">Foro</a>
      <a href="/client/logout.html">Cerrar Sesión</a>
    </nav>
  </header>

  <!-- resto de tu contenido: hero, operaciones, features, gallery, foro, footer -->

  <script src="/client/js/script.js"></script>
</body>
</html>


  <section class="hero">
    <h2>Invierte en Criptomonedas y Metales Preciosos</h2>
    <p>Bienvenido a la plataforma de compraventa de criptomonedas, oro y plata. Tecnología, seguridad y transparencia en tus inversiones.</p>
  </section>
  
  <!-- NUEVA SECCIÓN DE OPERACIONES -->
  <section class="operaciones" style="padding: 3rem 2rem; text-align: center; background-color: #121a27;">
    <h2 style="margin-bottom: 1rem;">Opera con tus activos</h2>
  
    <!-- Comprar -->
    <form id="formComprarMain" style="margin-bottom: 2rem;">
      <h3 style="color: gold;">Comprar</h3>
      <select id="comprarActivoMain" required>
        <option value="1">Bitcoin</option>
        <option value="2">Oro</option>
        <option value="3">Fiat</option>
      </select>
      <input type="number" id="comprarCantidadMain" step="any" placeholder="Cantidad" required />
      <input type="number" id="comprarValorMain" step="any" placeholder="Valor unitario" required />
      <button type="submit">Comprar</button>
    </form>
  
    <!-- Vender -->
    <form id="formVenderMain" style="margin-bottom: 2rem;">
      <h3 style="color: gold;">Vender</h3>
      <select id="venderActivoMain" required>
        <option value="1">Bitcoin</option>
        <option value="2">Oro</option>
        <option value="3">Fiat</option>
      </select>
      <input type="number" id="venderCantidadMain" step="any" placeholder="Cantidad" required />
      <input type="number" id="venderValorMain" step="any" placeholder="Valor unitario" required />
      <button type="submit">Vender</button>
    </form>
  
    <!-- Swap -->
    <form id="formSwapMain">
      <h3 style="color: gold;">Swap</h3>
      <label>De:</label>
      <select id="swapDe" required>
        <option value="1">Bitcoin</option>
        <option value="2">Oro</option>
        <option value="3">Fiat</option>
      </select>
      <label>A:</label>
      <select id="swapA" required>
        <option value="1">Bitcoin</option>
        <option value="2">Oro</option>
        <option value="3">Fiat</option>
      </select>
      <input type="number" id="swapCantidad" step="any" placeholder="Cantidad" required />
      <input type="number" id="swapValor" step="any" placeholder="Valor unitario (nuevo activo)" required />
      <button type="submit">Swapear</button>
    </form>
  </section>

  <section class="features">
    <div class="feature">
      <h3>Criptomonedas</h3>
      <p>Compra y vende Bitcoin, Ethereum y más de 50 activos digitales al instante.</p>
    </div>
    <div class="feature">
      <h3>Oro & Plata</h3>
      <p>Inversión en metales físicos y digitales con respaldo real y seguro.</p>
    </div>
    <div class="feature">
      <h3>Seguridad</h3>
      <p>Protección avanzada de datos, cifrado de extremo a extremo y custodia en frío.</p>
    </div>
  </section>

  <section class="gallery" id="portfolio">
    <h2>Galería de Activos</h2>
    <div class="gallery-container">
      <div>
        <a href="oro_chart.html">
          <img src="img/oro.jpg" alt="Lingote de oro" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" />
        </a>
      </div>
      <div>
        <a href="crypto_chart.html">
          <img src="img/btc.png" alt="Bitcoin" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" />
        </a>
      </div>
      <div>
        <img src="img/voxel.png" alt="Ethereum" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" />
      </div>
      <div>
        <img src="img/plata.png" alt="Lingotes de plata" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" />
      </div>
    </div>
  </section>
  
  

  <section class="forum-preview" id="foro">
    <h2>Últimos temas del foro</h2>
    <div class="post">
      <h4>[Análisis] ¿Subirá el BTC en junio?</h4>
      <p>Debate entre analistas sobre si se romperá la resistencia de los 85k €.</p>
    </div>
    <div class="post">
      <h4>[Consulta] Diferencia entre oro digital y físico</h4>
      <p>Un usuario pregunta sobre los beneficios fiscales y de custodia de cada tipo.</p>
    </div>
    <div class="post">
      <h4>[Alerta] Estafas recientes en plataformas P2P</h4>
      <p>Comunidad informa sobre sitios fraudulentos de compraventa. Comparte tu experiencia.</p>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 Aurum Project - Cliente | Diseño moderno, seguridad real.</p>
  </footer>
  <script src="js/alertas_btc.js"></script>

</body>
<script>
  const portafolioId = 1; // Substitueix per l'ID real de l'usuari si es guarda en localStorage

  async function enviarTransaccion(data, endpoint) {
    const res = await fetch(`/transacciones/${endpoint}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    if (res.ok) alert(`Transacción ${endpoint} completada`);
    else alert(`Error al realizar ${endpoint}`);
  }

  document.getElementById('formComprarMain').addEventListener('submit', e => {
    e.preventDefault();
    enviarTransaccion({
      portafolio_id: portafolioId,
      activo_id: +document.getElementById('comprarActivoMain').value,
      cantidad: +document.getElementById('comprarCantidadMain').value,
      valor_unitario: +document.getElementById('comprarValorMain').value,
      ip_origen: location.hostname
    }, 'comprar');
  });

  document.getElementById('formVenderMain').addEventListener('submit', e => {
    e.preventDefault();
    enviarTransaccion({
      portafolio_id: portafolioId,
      activo_id: +document.getElementById('venderActivoMain').value,
      cantidad: +document.getElementById('venderCantidadMain').value,
      valor_unitario: +document.getElementById('venderValorMain').value,
      ip_origen: location.hostname
    }, 'vender');
  });

  document.getElementById('formSwapMain').addEventListener('submit', e => {
    e.preventDefault();
    enviarTransaccion({
      portafolio_id: portafolioId,
      activo_origen_id: +document.getElementById('swapDe').value,
      activo_destino_id: +document.getElementById('swapA').value,
      cantidad: +document.getElementById('swapCantidad').value,
      valor_unitario: +document.getElementById('swapValor').value,
      ip_origen: location.hostname
    }, 'swap');
  });
</script>

</html>